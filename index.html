<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë””ë²¼ì£¼ë§ˆ! AI ê¹€ê¸°í˜¸ ì˜ì–´ ë„ì‚¬ 2.0</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Babel Standalone for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Import Map for React and Lucide -->
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "lucide-react": "https://esm.sh/lucide-react@0.330.0"
        }
    }
    </script>

    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Nanum+Gothic:wght@400;700;800&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-family: 'Nanum Gothic', sans-serif;
        }

        h1,
        h2,
        .font-heading {
            font-family: 'Black Han Sans', sans-serif;
        }

        /* Custom Animations */
        @keyframes fade-in {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes zoom-in {
            from {
                transform: scale(0.95);
            }

            to {
                transform: scale(1);
            }
        }

        .animate-in {
            animation: fade-in 0.5s ease-out, zoom-in 0.5s ease-out;
        }
    </style>
</head>

<body class="bg-orange-50">
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useRef, useEffect } from 'react';
        import { createRoot } from 'react-dom/client';
        import {
            Camera, Image as ImageIcon, Sparkles, Train, Search,
            Lightbulb, MessageCircle, RefreshCw, AlertCircle,
            Plus, X, PlayCircle, BookOpen, GraduationCap, Mic2, ClipboardPaste,
            Flame, Zap, Key
        } from 'lucide-react';

        const App = () => {
            const [images, setImages] = useState([]);
            const [loading, setLoading] = useState(false);
            const [result, setResult] = useState(null);
            const [error, setError] = useState(null);
            const [apiKey, setApiKey] = useState(localStorage.getItem('gemini_api_key') || '');
            const [showApiInput, setShowApiInput] = useState(!apiKey);
            const fileInputRef = useRef(null);

            const MAX_IMAGES = 3;

            useEffect(() => {
                if (apiKey) {
                    localStorage.setItem('gemini_api_key', apiKey);
                }
            }, [apiKey]);

            // ë¶™ì—¬ë„£ê¸°(Paste) ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
            useEffect(() => {
                const handlePaste = (e) => {
                    const items = e.clipboardData.items;
                    const foundImages = [];

                    for (let i = 0; i < items.length; i++) {
                        if (items[i].type.indexOf('image') !== -1) {
                            const file = items[i].getAsFile();
                            foundImages.push(file);
                        }
                    }

                    if (foundImages.length > 0) {
                        if (images.length + foundImages.length > MAX_IMAGES) {
                            setError(`ì•¼! ë„ˆë¬´ ë§ì•„! ìµœëŒ€ ${MAX_IMAGES}ì¥ê¹Œì§€ë§Œ ê°€ëŠ¥í•˜ë‹¤ ë§ˆ!`);
                            return;
                        }

                        foundImages.forEach(file => {
                            const reader = new FileReader();
                            reader.onloadend = () => {
                                setImages(prev => {
                                    if (prev.length >= MAX_IMAGES) return prev;
                                    return [...prev, reader.result];
                                });
                                setError(null);
                            };
                            reader.readAsDataURL(file);
                        });
                    }
                };

                window.addEventListener('paste', handlePaste);
                return () => window.removeEventListener('paste', handlePaste);
            }, [images]);

            // ê¹€ê¸°í˜¸ ê°•ì‚¬ ìŠ¤íƒ€ì¼ì˜ ê°•í™”ëœ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ (ë°˜ë§ & í•˜ì´ë¼ì´íŠ¸ ì¶”ê°€)
            const systemPrompt = `
                ë‹¹ì‹ ì€ ëŒ€í•œë¯¼êµ­ ìµœê³ ì˜ ì˜ì–´ ì–´ìˆœ ì „ë¬¸ê°€ 'ê¹€ê¸°í˜¸' ê°•ì‚¬ë‹¤.
                ì œê³µëœ ì´ë¯¸ì§€(ìµœëŒ€ 3ì¥)ë¥¼ ë¶„ì„í•´ì„œ "ë¼ì´ë¸Œ ê°•ì˜" í˜•ì‹ìœ¼ë¡œ í•´ì„¤í•´ë¼.

                1. ë§íˆ¬: ë¬´ì¡°ê±´ 'ë°˜ë§'ì´ë‹¤. ì•„ì£¼ ì¬ë¯¸ìˆê³  ì—´ì •ì ì´ì–´ì•¼ í•œë‹¤.
                - "ì•¼, ë˜‘ë°”ë¡œ ë´!", "ì´ê±° ëª¨ë¥´ë©´ ì˜ì–´ ë•Œë ¤ì³ë¼!", "ë””ë²¼ì£¼ë§ˆ!", "ë§Œì‚¬ OKë‹¤ ë§ˆ!", "ì´í•´, ì´í•´, ì´í•´ë‹¤!", "ë’¤ì—ì„œë¶€í„° í•´ì„í•˜ë©´ ì£½ìŒì´ë‹¤!" ë“±.
                2. í•µì‹¬ ì² í•™:
                - ì˜ì–´ëŠ” 'ì–´ìˆœ(ì£¼ì–´+ë™ì‚¬+ëª©ì ì–´)'ê³¼ 'ë‰´ì•™ìŠ¤(ê·¸ë¦¼)'ê°€ ì „ë¶€.
                - ë¬¸ì¥ì´ ê¸¸ì–´ì§€ëŠ” ê±´ 'ë–¨ê±°ì§€(ìˆ˜ì‹ì–´)'ì™€ 'ë‹¤ë¦¬(ì—°ê²°ì–´)'ê°€ ë¶™ì–´ì„œë‹¤. 6ê°€ì§€ ë²•ì¹™ë§Œ ì•Œë©´ ë.
                3. ì‹œê°ì  ì¥ì¹˜ (ì¤‘ìš” - ë°˜ë“œì‹œ ì§€ì¼œë¼):
                - ì˜ì–´ ë¬¸ì¥ì€ ì˜ë¯¸ ë‹¨ìœ„ë¡œ ëŠì–´ì„œ ìŠ¬ë˜ì‹œ(/)ë¡œ êµ¬ë¶„í•´ë¼.
                - ë¬¸ì¥ í•´ì„¤ ì‹œ, í•µì‹¬ ë¼ˆëŒ€ê°€ ì•„ë‹Œ **'ë–¨ê±°ì§€(ìˆ˜ì‹ì–´êµ¬, ì „ì¹˜ì‚¬êµ¬ ë“±)'** ë¶€ë¶„ì€ ë°˜ë“œì‹œ <t>í…ìŠ¤íŠ¸</t> íƒœê·¸ë¡œ ê°ì‹¸ë¼. (íŒŒë€ìƒ‰ í•˜ì´ë¼ì´íŠ¸ íš¨ê³¼)
                - í•œê¸€ í•´ì„ì€ ì˜ì–´ ëŠì–´ì½ê¸° ìˆœì„œì™€ ì •í™•íˆ 1:1 ëŒ€ì‘ë˜ê²Œ ëŒ€ê´„í˜¸[]ë¡œ ë¬¶ê³  ìŠ¬ë˜ì‹œ(/)ë¡œ êµ¬ë¶„í•´ë¼.
                
                ì˜ˆì‹œ:
                **He / opened / a small food stand / <t>in his hometown of CancÃºn</t>.**
                âœ¨ [ê·¸ëŠ”] / [ì—´ì—ˆë‹¤] / [ì‘ì€ ìŒì‹ ë…¸ì ì„] / [ê·¸ì˜ ê³ í–¥ì¸ ì¹¸ì¿¤ì—ì„œ].

                4. ì¶œë ¥ êµ¬ì¡°:
                - [ğŸ¬ ì•¼! ê°•ì˜ ì‹œì‘í•œë‹¤ ë§ˆ!]: ê°•ì˜ë¥¼ ì—¬ëŠ” ê°•ë ¬í•œ ë°˜ë§ ë©˜íŠ¸.
                - [ğŸš‚ ì¹™ì¹™í­í­ ê¸°ì°¨ ì–´ìˆœ ì§ë…ì§í•´]: **(ì ˆëŒ€ ìƒëµ ê¸ˆì§€)** ì§€ë¬¸ì— ë‚˜ì˜¤ëŠ” **ëª¨ë“  ë¬¸ì¥**ì„ ìœ„ ì˜ˆì‹œ í¬ë§·(ì˜ì–´-í•œê¸€ ìŒ)ìœ¼ë¡œ ì¶œë ¥í•´ë¼. ìˆœì„œë¥¼ ì§€ì¼œë¼.
                (í˜•ì‹ í•„íˆ ì¤€ìˆ˜)
                
                **ì˜ì–´ ë¬¸ì¥ (ëŠì–´ì½ê¸° / ë° <t>íƒœê·¸ ì ìš©)**
                âœ¨ [í•œê¸€ ì§ë…ì§í•´] / [ì²­í¬ë³„] / [í•´ì„]
                (í•œ ì¤„ ë„ê³  ë‹¤ìŒ ë¬¸ì¥...)

                    - [ğŸ” í˜„ë¯¸ê²½ ë–¨ê±°ì§€ ë””ë¹„ê¸°]: <t> íƒœê·¸ë¡œ í‘œì‹œí•œ ë¶€ë¶„ì´ ì™œ ë–¨ê±°ì§€ì¸ì§€ ì„¤ëª….
                - [ğŸ’¡ ì •ë‹µ ì½• ì§‘ê¸°]: ì •ë‹µê³¼ ì´ìœ .
                - [ğŸ”¥ ì˜¤ëŠ˜ì˜ í•œë§ˆë””]: ëœ¨ê±°ìš´ ë§ˆë¬´ë¦¬.
                5. ì•„ì´ì½˜: ì«„ì§€ ì•Šê²Œ ì´ëª¨ì§€ íŒíŒ ì¨ë¼.
            `;

            const handleImageUpload = (e) => {
                const files = Array.from(e.target.files);
                if (images.length + files.length > MAX_IMAGES) {
                    setError(`ìµœëŒ€ ${MAX_IMAGES}ì¥ê¹Œì§€ë§Œ! ìš•ì‹¬ë‚´ì§€ ë§ˆë¼ ë§ˆ!`);
                    return;
                }

                files.forEach(file => {
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        setImages(prev => [...prev, reader.result]);
                        setError(null);
                    };
                    reader.readAsDataURL(file);
                });
            };

            const removeImage = (index) => {
                setImages(prev => prev.filter((_, i) => i !== index));
                setResult(null);
            };

            const startLecture = async () => {
                if (!apiKey) {
                    setError("ì•¼! API í‚¤ê°€ ì—†ìœ¼ë©´ ìˆ˜ì—… ëª» í•œë‹¤! í‚¤ë¶€í„° ë‚´ë†”ë¼!");
                    setShowApiInput(true);
                    return;
                }
                if (images.length === 0) {
                    setError("ì•¼! ì‚¬ì§„ í•œ ì¥ì€ ìˆì–´ì•¼ ê°•ì˜ë¥¼ í•˜ë“  ë§ë“  í•˜ì§€!");
                    return;
                }

                setLoading(true);
                setError(null);
                setResult(null);

                const imageParts = images.map(img => ({
                    inlineData: {
                        mimeType: "image/png",
                        data: img.split(',')[1]
                    }
                }));

                try {
                    // Using Gemini 2.0 Flash Exp as requested/implied for "latest flash"
                    const modelVersion = "gemini-2.0-flash-exp";
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${modelVersion}:generateContent?key=${apiKey}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{
                                role: "user",
                                parts: [
                                    { text: "ì, ê¹€ê¸°í˜¸ í˜•ë‹˜! ì—¬ê¸° ì˜ì–´ ë¬¸ì œë“¤ ì‹¹ ë‹¤ ë””ë²¼ì¤˜! ë°˜ë§ë¡œ í™”ëˆí•˜ê²Œ ì•Œì§€? ë–¨ê±°ì§€ëŠ” <t>ë¡œ ê°ì‹¸ëŠ” ê±° ìŠì§€ ë§ˆ!" },
                                    ...imageParts
                                ]
                            }],
                            systemInstruction: { parts: [{ text: systemPrompt }] }
                        })
                    });

                    const data = await response.json();
                    if (data.candidates && data.candidates[0].content.parts[0].text) {
                        setResult(data.candidates[0].content.parts[0].text);
                    } else {
                        throw new Error(data.error?.message || "ë¶„ì„ ê²°ê³¼ë¥¼ ëª» ê°€ì ¸ì™”ì–´. ë‹¤ì‹œ í•´ë´!");
                    }
                } catch (err) {
                    setError("ì—ëŸ¬ ë‚¬ë‹¤ ë§ˆ! API í‚¤ í™•ì¸í–ˆë‚˜? ë‹¤ì‹œ í•œë²ˆ ì‹œë„í•´ë´. " + err.message);
                } finally {
                    setLoading(false);
                }
            };

            // í…ìŠ¤íŠ¸ ë‚´ <t> íƒœê·¸ë¥¼ ì°¾ì•„ì„œ ìƒ‰ìƒì„ ì…íˆëŠ” ë Œë”ë§ í•¨ìˆ˜
            const renderTextWithHighlights = (text) => {
                const parts = text.split(/(<t>.*?<\/t>)/g);
                return parts.map((part, index) => {
                    if (part.startsWith('<t>') && part.endsWith('</t>')) {
                        const content = part.replace(/<\/?t>/g, '');
                        return (
                            <span key={index} className="text-cyan-400 font-bold underline decoration-dotted decoration-cyan-500 underline-offset-4">
                                {content}
                            </span>
                        );
                    }
                    return part;
                });
            };

            return (
                <div className="min-h-screen bg-orange-50 font-sans text-gray-900 p-4 md:p-8">
                    {/* Header */}
                    <header className="max-w-4xl mx-auto text-center mb-8">
                        <div className="flex justify-center gap-3 mb-4">
                            <Flame className="text-red-500 w-10 h-10 animate-pulse" />
                            <Train className="text-orange-600 w-12 h-12" />
                            <Zap className="text-yellow-500 w-10 h-10 animate-bounce" />
                        </div>
                        <h1 className="text-4xl md:text-5xl font-heading text-orange-600 mb-2 tracking-tighter drop-shadow-sm font-bold">
                            ë””ë²¼ì£¼ë§ˆ! AI ê¹€ê¸°í˜¸ ì˜ì–´ ë„ì‚¬ 2.0
                        </h1>
                        <p className="text-xl text-gray-700 font-bold italic">
                            "ì˜ì–´ë„ ì–´ìˆœì´ë‹¤! ë’¤ì—ì„œë¶€í„° í•´ì„í•˜ë©´ ì£½ìŒì´ë‹¤ ë§ˆ!" ğŸš‚ğŸ’¥
                        </p>

                        {/* API Key Input Toggle */}
                        <div className="mt-4 flex flex-col items-center">
                            <button
                                onClick={() => setShowApiInput(!showApiInput)}
                                className="text-sm text-gray-400 hover:text-orange-500 flex items-center gap-1 transition-colors"
                            >
                                <Key className="w-4 h-4" />
                                {apiKey ? 'API í‚¤ ë³€ê²½í•˜ê¸°' : 'API í‚¤ ë“±ë¡í•˜ê¸°'}
                            </button>

                            {showApiInput && (
                                <div className="mt-2 w-full max-w-md animate-in fade-in slide-in-from-top-2">
                                    <input
                                        type="password"
                                        value={apiKey}
                                        onChange={(e) => setApiKey(e.target.value)}
                                        placeholder="Gemini API í‚¤ë¥¼ ì—¬ê¸°ì— ë¶™ì—¬ë„£ì–´ë¼ ë§ˆ!"
                                        className="w-full px-4 py-2 rounded-xl border-2 border-orange-200 focus:border-orange-500 focus:outline-none text-center font-mono text-sm shadow-sm"
                                    />
                                    <p className="text-xs text-gray-400 mt-1">
                                        * í‚¤ëŠ” ë¸Œë¼ìš°ì €ì—ë§Œ ì €ì¥ë˜ë‹ˆ ì•ˆì‹¬í•´ë¼. Gemini 2.0 Flash ëª¨ë¸ì„ ì‚¬ìš©í•œë‹¤.
                                    </p>
                                </div>
                            )}
                        </div>
                    </header>

                    <main className="max-w-4xl mx-auto space-y-6">
                        {/* Multi-Upload Area */}
                        <div className="bg-white rounded-3xl shadow-xl p-6 border-4 border-orange-100">
                            <div className="mb-4 flex items-center justify-center gap-2 text-orange-500">
                                <ClipboardPaste className="w-6 h-6 animate-pulse" />
                                <span className="text-base font-bold uppercase tracking-tight">ìº¡ì²˜í•˜ê³  Ctrl+V í•˜ë©´ ë°”ë¡œ ë“±ë¡ëœë‹¤ë„¤!</span>
                            </div>

                            <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                                {images.map((img, index) => (
                                    <div key={index} className="relative aspect-video md:aspect-square rounded-2xl overflow-hidden border-4 border-orange-50 group shadow-md transition-all hover:shadow-lg">
                                        <img src={img} alt={`Problem ${index + 1}`} className="w-full h-full object-contain bg-gray-50" />
                                        <button onClick={() => removeImage(index)} className="absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full shadow-lg hover:scale-110 transition-transform">
                                            <X className="w-4 h-4" />
                                        </button>
                                        <div className="absolute bottom-2 left-2 bg-orange-600 text-white text-xs font-bold px-3 py-1 rounded-lg shadow-sm">
                                            {index + 1}ë²ˆ ìë£Œ
                                        </div>
                                    </div>
                                ))}

                                {images.length < MAX_IMAGES && (
                                    <button onClick={() => fileInputRef.current.click()} className="aspect-video md:aspect-square border-4 border-dashed border-orange-200 rounded-2xl flex flex-col items-center justify-center hover:bg-orange-50 hover:border-orange-400 transition-all text-orange-300 group">
                                        <Plus className="w-12 h-12 mb-2 group-hover:scale-110 transition-transform" />
                                        <span className="font-bold text-lg">ì‚¬ì§„ ì¶”ê°€ ({images.length}/{MAX_IMAGES})</span>
                                        <span className="text-xs font-medium text-orange-300">ë˜ëŠ” Ctrl+V</span>
                                    </button>
                                )}
                            </div>

                            <input type="file" ref={fileInputRef} onChange={handleImageUpload} accept="image/*" className="hidden" multiple />

                            {images.length > 0 && !loading && !result && (
                                <button onClick={startLecture} className="w-full py-5 bg-orange-600 text-white text-2xl font-bold rounded-2xl shadow-xl hover:bg-orange-700 transform hover:scale-[1.01] active:scale-95 transition-all flex items-center justify-center gap-3">
                                    <PlayCircle className="w-8 h-8" />
                                    ì˜¤ëŠ˜ì˜ ê°•ì˜ ì‹œì‘! ë””ë²¼ì£¼ë§ˆ!
                                </button>
                            )}
                        </div>

                        {/* Loading State */}
                        {loading && (
                            <div className="bg-white rounded-3xl shadow-lg p-12 flex flex-col items-center justify-center border-4 border-orange-100">
                                <div className="flex gap-6">
                                    <Train className="w-16 h-16 text-orange-600 animate-bounce" />
                                    <Mic2 className="w-16 h-16 text-red-500 animate-pulse" />
                                </div>
                                <p className="text-2xl font-bold text-orange-700 mt-8 italic text-center leading-tight">
                                    "ì•¼! ë‹¤ë“¤ ì£¼ëª©í•´ë¼ ë§ˆ! <br />êµì¬ í¼ì¹˜ê³ ... ì§€ê¸ˆ ì‹¹ ë‹¤ ë””ë¹„ê³  ìˆë‹¤!"
                                </p>
                            </div>
                        )}

                        {/* Error Message */}
                        {error && (
                            <div className="bg-red-50 border-2 border-red-200 rounded-2xl p-6 flex items-start gap-4 shadow-md">
                                <AlertCircle className="text-red-500 w-6 h-6 shrink-0" />
                                <p className="text-red-700 font-bold">{error}</p>
                            </div>
                        )}

                        {/* Result: Chalkboard Style */}
                        {result && (
                            <div className="bg-slate-900 rounded-[2.5rem] shadow-2xl border-[8px] border-slate-800 overflow-hidden animate-in fade-in zoom-in duration-500">
                                {/* Blackboard Header */}
                                <div className="bg-slate-800 px-6 py-4 flex items-center justify-between border-b border-slate-700">
                                    <div className="flex items-center gap-3">
                                        <div className="bg-orange-600 p-2 rounded-xl shadow-lg shadow-orange-900/50">
                                            <BookOpen className="text-white w-6 h-6" />
                                        </div>
                                        <h2 className="text-orange-400 text-xl font-heading tracking-widest uppercase italic font-bold">
                                            KIM KI-HO BLACKBOARD ğŸ›ï¸
                                        </h2>
                                    </div>
                                    <div className="flex gap-2">
                                        <div className="w-4 h-4 rounded-full bg-red-500/80 shadow-lg"></div>
                                        <div className="w-4 h-4 rounded-full bg-yellow-500/80 shadow-lg"></div>
                                        <div className="w-4 h-4 rounded-full bg-green-500/80 shadow-lg"></div>
                                    </div>
                                </div>

                                {/* Blackboard Content */}
                                <div className="p-8 md:p-12 text-slate-100">
                                    <div className="whitespace-pre-wrap leading-relaxed text-lg font-medium font-mono">
                                        {result.split('\n').map((line, i) => {
                                            // 1. Section Headers
                                            if (line.trim().startsWith('[') && (line.includes('ğŸ¬') || line.includes('ğŸš‚') || line.includes('ğŸ”') || line.includes('ğŸ¨') || line.includes('ğŸ’¡') || line.includes('ğŸ”¥'))) {
                                                if (line.includes('ğŸ’¡')) {
                                                    // Special styling for 'Answer' section start if needed, or keep generic
                                                }
                                                return (
                                                    <div key={i} className="text-yellow-300 font-bold text-2xl mt-12 mb-6 flex items-center gap-3 border-b-2 border-slate-700 pb-3 tracking-tight">
                                                        {line.replace(/\[|\]/g, '')}
                                                    </div>
                                                );
                                            }

                                            // 2. English Sentences (bolded from prompt)
                                            if (line.trim().startsWith('**')) {
                                                return (
                                                    <div key={i} className="text-white text-xl font-medium mt-8 mb-1 leading-relaxed break-keep tracking-wide pl-2 border-l-4 border-orange-500/50">
                                                        {renderTextWithHighlights(line.replace(/\*\*/g, ''))}
                                                    </div>
                                                );
                                            }

                                            // 3. Korean Translations (prefixed with âœ¨)
                                            if (line.trim().startsWith('âœ¨')) {
                                                return (
                                                    <div key={i} className="text-yellow-400 text-base font-normal mb-8 pl-2 flex items-start gap-2 leading-relaxed break-keep">
                                                        <Sparkles className="w-5 h-5 mt-0.5 shrink-0 text-yellow-500" />
                                                        <span>{line.replace('âœ¨', '').trim()}</span>
                                                    </div>
                                                );
                                            }

                                            // 4. Normal lines (Explanations, etc.)
                                            // Handle specific sections styling
                                            if (line.includes('ğŸš‚')) { // Fallback if regular text contains this
                                                return <div key={i}>{line}</div>;
                                            }

                                            // Special box for Nuance or Logic explanations
                                            if (line.trim().startsWith('1.') || line.trim().startsWith('*')) {
                                                return (
                                                    <div key={i} className="pl-4 mb-2 text-slate-300">
                                                        {renderTextWithHighlights(line)}
                                                    </div>
                                                );
                                            }

                                            return (
                                                <p key={i} className="mb-2 opacity-90 text-lg">
                                                    {renderTextWithHighlights(line)}
                                                </p>
                                            );
                                        })}
                                    </div>
                                </div>

                                {/* Blackboard Footer */}
                                <div className="bg-slate-800 p-6 flex flex-col md:flex-row items-center justify-between gap-6 border-t border-slate-700">
                                    <div className="flex flex-col items-center md:items-start text-center md:text-left">
                                        <p className="text-orange-400 text-lg font-bold italic tracking-tight">
                                            "ì˜ì–´ëŠ” ì´í•´ë‹¤! ì™¸ìš°ëŠ” ë†ˆì€ ì£½ìŒì´ë‹¤!"
                                        </p>
                                        <p className="text-slate-500 text-xs font-bold mt-1">Â© 2025 ê¹€ê¸°í˜¸ ì˜ì–´ ë””ë¹„ê¸° AI ì¹ íŒ v2.0</p>
                                    </div>
                                    <button onClick={() => { setImages([]); setResult(null); }} className="px-8 py-3 bg-orange-600 text-white text-lg font-bold rounded-xl hover:bg-orange-700 transition-all shadow-lg active:scale-95 hover:rotate-1">
                                        ë‹¤ìŒ ë¬¸ì œ ë””ë¹„ëŸ¬ ê°€ê¸° ğŸš‚
                                    </button>
                                </div>
                            </div>
                        )}
                    </main>

                    {/* Footer Info */}
                    <footer className="max-w-4xl mx-auto mt-12 pb-10 text-center text-gray-400">
                        <div className="flex justify-center gap-6 mb-4 opacity-40">
                            <ImageIcon className="w-6 h-6" />
                            <Train className="w-6 h-6" />
                            <GraduationCap className="w-6 h-6" />
                        </div>
                        <p className="text-sm font-bold tracking-[0.2em] text-orange-300/60 uppercase italic">
                            KIM KI-HO ENGLISH REVOLUTION
                        </p>
                    </footer>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>